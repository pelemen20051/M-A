import sqlite3
import os

# === Имя базы данных ===
db_path = "coffee_menu.db"

# === Удаляем старую базу, если нужно обновить ===
if os.path.exists(db_path):
    os.remove(db_path)

# === Подключаемся и создаём таблицу ===
conn = sqlite3.connect(db_path)
cursor = conn.cursor()

cursor.execute("""
CREATE TABLE IF NOT EXISTS menu (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category TEXT NOT NULL,
    name TEXT NOT NULL,
    volume TEXT,
    price TEXT
)
""")

# === Меню кофейни ===
menu_items = [
    # Классика
    ("Классика", "Эспрессо", "250мл", "100р"),
    ("Классика", "Американо", "250мл", "120р"),
    ("Классика", "Американо", "350мл", "150р"),
    ("Классика", "Капучино", "250мл", "160р"),
    ("Классика", "Капучино", "350мл", "200р"),
    ("Классика", "Латте", "350мл", "200р"),
    ("Классика", "Флэт уайт", "250мл", "180р"),
    ("Классика", "Раф", "250мл", "200р"),
    ("Классика", "Раф", "350мл", "250р"),
    ("Классика", "Раф с урбечом", "350мл", "280р"),
    ("Классика", "Моккочино", "250мл", "250р"),

    # Холодные
    ("Холодные", "Фраппучино с урбечом", "0,4", "300р"),
    ("Холодные", "ICE Латте", "0,4", "230р"),
    ("Холодные", "Бамбл", "0,4", "230р"),
    ("Холодные", "Будильник", "0,4", "230р"),

    # Коктейли
    ("Коктейли", "Молочный", "0,4", "200р"),
    ("Коктейли", "Шоколадный", "0,4", "200р"),
    ("Коктейли", "OREO", "0,4", "230р"),
    ("Коктейли", "Банановый", "0,4", "230р"),
    ("Коктейли", "Клубнично-банановый", "0,4", "230р"),

    # Не кофе
    ("Не кофе", "Какао", "250мл", "200р"),
    ("Не кофе", "Какао", "350мл", "250р"),
    ("Не кофе", "Матча", "250мл", "220р"),
    ("Не кофе", "Матча", "350мл", "270р"),
    ("Не кофе", "Горячий шоколад", "60мл", "150р"),
    ("Не кофе", "Горячий шоколад", "110мл", "220р"),
    ("Не кофе", "Чаи травяные", "0,35мл", "70р"),
    ("Не кофе", "Чаи травяные", "0,9мл", "200р"),
]

# === Вставляем данные ===
cursor.executemany("""
INSERT INTO menu (category, name, volume, price)
VALUES (?, ?, ?, ?)
""", menu_items)

conn.commit()
conn.close()

print(f"✅ База данных '{db_path}' успешно создана и заполнена меню!")
